<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>–ó–∞–∫—É–ø–∫–∏ –º–æ–ª–æ—á–∫–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #fff9e6 0%, #fff2d9 100%);
            position: relative;
            min-height: 100vh;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" opacity="0.1"><path d="M40,50 Q50,30 70,50 T100,50" stroke="%23b87333" fill="none" stroke-width="3"/><circle cx="45" cy="40" r="8" fill="%23b87333" opacity="0.2"/><circle cx="85" cy="40" r="8" fill="%23b87333" opacity="0.2"/><path d="M60,65 L70,75 L80,65" stroke="%23b87333" fill="none" stroke-width="3"/></svg>'),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 100" opacity="0.1"><path d="M140,60 Q150,40 170,60 T200,60" stroke="%238b4513" fill="none" stroke-width="3"/><circle cx="145" cy="50" r="8" fill="%238b4513" opacity="0.2"/><circle cx="185" cy="50" r="8" fill="%238b4513" opacity="0.2"/><path d="M160,75 L170,85 L180,75" stroke="%238b4513" fill="none" stroke-width="3"/></svg>');
            background-repeat: repeat;
            background-position: 0 0, 100px 50px;
            pointer-events: none;
            z-index: -1;
        }

        .header {
            background: rgba(255, 248, 235, 0.98);
            border-bottom: 3px solid #d4a373;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .header.compact {
            padding: 5px 0;
        }

        .header-top {
            max-width: 1400px;
            margin: 0 auto;
            padding: 15px 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            transition: all 0.3s ease;
        }

        .header.compact .header-top {
            padding: 8px 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .logo span {
            font-size: 32px;
        }

        .logo h1 {
            color: #6b4f3c;
            font-size: 24px;
            font-weight: bold;
        }

        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 28px;
            color: #6b4f3c;
            cursor: pointer;
            padding: 5px;
        }

        .search-box {
            flex: 1;
            max-width: 600px;
            margin: 0 auto;
        }

        .search-box input {
            width: 100%;
            padding: 12px 20px;
            border: 2px solid #d4a373;
            border-radius: 30px;
            font-size: 16px;
            background: white;
        }

        .search-box input:focus {
            outline: none;
            border-color: #b87333;
        }

        .cart-icon {
            position: relative;
            background: #d4a373;
            border: 2px solid #b87333;
            border-radius: 30px;
            padding: 10px 20px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .cart-count {
            background: white;
            color: #b87333;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            line-height: 1;
        }

        .nav-buttons {
            display: flex;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            background: #fff2d9;
            border: 2px solid #d4a373;
            border-radius: 30px;
            color: #6b4f3c;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
            white-space: nowrap;
        }

        .nav-btn:hover {
            background: #d4a373;
            color: white;
        }

        .mobile-menu {
            position: fixed;
            top: 0;
            left: -300px;
            width: 280px;
            height: 100vh;
            background: #fff9e6;
            border-right: 3px solid #d4a373;
            z-index: 2000;
            transition: left 0.3s ease;
            padding: 80px 20px 20px;
        }

        .mobile-menu.active {
            left: 0;
        }

        .mobile-menu-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1999;
        }

        .mobile-menu-overlay.active {
            display: block;
        }

        .mobile-menu-item {
            padding: 15px;
            background: #fff2d9;
            border: 2px solid #d4a373;
            border-radius: 12px;
            margin-bottom: 10px;
            color: #6b4f3c;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
        }

        .desktop-container {
            max-width: 1400px;
            margin: 20px auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
            align-items: start;
        }

        .products-column {
            width: 100%;
        }

        .price-info {
            background: #fff2d9;
            border: 2px solid #d4a373;
            border-radius: 12px;
            padding: 12px 20px;
            margin-bottom: 20px;
            color: #6b4f3c;
            font-size: 14px;
        }

        .category-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .category-tab {
            padding: 8px 16px;
            background: #fff2d9;
            border: 2px solid #d4a373;
            border-radius: 30px;
            color: #6b4f3c;
            cursor: pointer;
            font-weight: 500;
            font-size: 14px;
            white-space: nowrap;
        }

        .category-tab.active {
            background: #d4a373;
            color: white;
        }

        .products-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .product-item {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 120px;
            align-items: center;
            padding: 12px 15px;
            background: white;
            border: 2px solid #d4a373;
            border-radius: 12px;
            gap: 10px;
            font-size: 14px;
            transition: all 0.2s;
        }

        .product-item.in-cart {
            opacity: 0.7;
            background-color: #f9f9f9;
        }

        .product-info {
            display: flex;
            flex-direction: column;
        }

        .product-name {
            font-weight: bold;
            color: #6b4f3c;
        }

        .product-note {
            font-size: 11px;
            color: #8b6b4f;
            margin-top: 2px;
        }

        .product-price {
            color: #b87333;
            font-weight: bold;
            text-align: right;
        }

        .product-unit {
            color: #8b6b4f;
            font-size: 13px;
            text-align: right;
        }

        .product-controls {
            display: flex;
            align-items: center;
            gap: 5px;
            justify-content: flex-end;
        }

        .product-qty-btn {
            width: 30px;
            height: 30px;
            background: #d4a373;
            border: 2px solid #b87333;
            color: white;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .product-qty-btn:hover {
            background: #b87333;
        }

        .product-qty-value {
            font-weight: bold;
            color: #6b4f3c;
            min-width: 30px;
            text-align: center;
            font-size: 15px;
        }

        .right-column {
            position: sticky;
            top: 90px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .cart-desktop {
            background: rgba(255, 248, 235, 0.95);
            border: 3px solid #d4a373;
            border-radius: 20px;
            padding: 20px;
        }

        .cart-desktop h2 {
            color: #6b4f3c;
            border-bottom: 2px solid #d4a373;
            padding-bottom: 12px;
            margin-bottom: 15px;
            font-size: 20px;
        }

        .cart-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px dashed #d4a373;
            font-size: 13px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
            color: #6b4f3c;
        }

        .cart-item-note {
            font-size: 11px;
            color: #b87333;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .cart-item-quantity {
            font-weight: bold;
            color: #b87333;
            min-width: 30px;
            text-align: center;
            font-size: 13px;
        }

        .cart-item-btn {
            background: white;
            border: 1px solid #d4a373;
            color: #6b4f3c;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1;
        }

        .cart-item-remove {
            background: none;
            border: none;
            color: #c41e3a;
            cursor: pointer;
            font-size: 18px;
            padding: 0 5px;
        }

        .cart-total {
            font-size: 20px;
            font-weight: bold;
            color: #6b4f3c;
            text-align: right;
            padding-top: 12px;
            border-top: 2px solid #d4a373;
        }

        .cart-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 30px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            flex: 1;
        }

        .btn-primary {
            background: #d4a373;
            color: white;
            border: 2px solid #b87333;
        }

        .btn-secondary {
            background: #fff2d9;
            color: #6b4f3c;
            border: 2px solid #d4a373;
        }

        .calculator-widget {
            background: rgba(255, 248, 235, 0.95);
            border: 3px solid #d4a373;
            border-radius: 20px;
            padding: 20px;
        }

        .calculator-widget h3 {
            color: #6b4f3c;
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .calc-icon-new {
            display: inline-block;
            width: 36px;
            height: 36px;
            background: transparent;
            border: 2px solid #6b4f3c;
            border-radius: 6px;
            position: relative;
            box-sizing: border-box;
        }

        .calc-icon-new::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 2px;
            right: 2px;
            height: 2px;
            background: #6b4f3c;
            transform: translateY(-50%);
        }

        .calc-icon-new::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 2px;
            bottom: 2px;
            width: 2px;
            background: #6b4f3c;
            transform: translateX(-50%);
        }

        .calc-icon-new span {
            position: absolute;
            font-size: 12px;
            font-weight: bold;
            color: #6b4f3c;
            line-height: 1;
        }

        .calc-icon-new span:nth-child(1) {
            top: 4px;
            left: 6px;
        }
        .calc-icon-new span:nth-child(2) {
            top: 4px;
            right: 6px;
        }
        .calc-icon-new span:nth-child(3) {
            bottom: 4px;
            left: 6px;
        }
        .calc-icon-new span:nth-child(4) {
            bottom: 4px;
            right: 6px;
        }

        .calc-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .calc-row input {
            width: 100px;
            padding: 8px;
            border: 2px solid #d4a373;
            border-radius: 8px;
            font-size: 14px;
        }

        .calc-result {
            background: #fff2d9;
            padding: 12px;
            border-radius: 10px;
            margin-top: 10px;
            font-size: 14px;
            text-align: center;
            font-weight: bold;
            color: #6b4f3c;
        }

        .mobile-view {
            display: none;
        }

        .mobile-calc-btn {
            background: #d4a373;
            color: white;
            border: 2px solid #b87333;
            border-radius: 30px;
            padding: 12px;
            margin-bottom: 15px;
            text-align: center;
            font-weight: bold;
            font-size: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .mobile-calculator {
            display: none;
            background: rgba(255, 248, 235, 0.95);
            border: 3px solid #d4a373;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .mobile-calculator.active {
            display: block;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 3000;
            align-items: center;
            justify-content: center;
            padding: 15px;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: #fff9e6;
            border: 3px solid #d4a373;
            border-radius: 25px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 28px;
            color: #b87333;
            cursor: pointer;
        }

        .review-form {
            margin-top: 20px;
        }

        .review-form input,
        .review-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 2px solid #d4a373;
            border-radius: 8px;
            font-size: 14px;
        }

        .review-form textarea {
            height: 100px;
            resize: vertical;
        }

        .reviews-list {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .review-item {
            background: #fff2d9;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 10px;
        }

        .review-author {
            font-weight: bold;
            color: #6b4f3c;
        }

        .review-date {
            font-size: 11px;
            color: #b87333;
            margin-left: 10px;
        }

        .review-text {
            margin-top: 5px;
            color: #4a3729;
        }

        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background: #d4a373;
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            border: 2px solid #b87333;
            transform: translateX(400px);
            transition: transform 0.3s;
            z-index: 4000;
            font-weight: bold;
        }

        .notification.show {
            transform: translateX(0);
        }

        @media (max-width: 900px) {
            .desktop-container {
                display: none;
            }
            
            .mobile-view {
                display: block;
                padding: 8px;
            }
            
            .menu-toggle {
                display: block;
            }
            
            .logo h1 {
                display: none;
            }
            
            .nav-buttons {
                display: none;
            }
            
            .product-item {
                display: block;
                padding: 8px 10px;
                border-width: 1px;
                border-radius: 8px;
                margin-bottom: 5px;
            }
            
            .product-name {
                font-size: 13px;
                font-weight: 600;
                margin-bottom: 2px;
                line-height: 1.2;
            }
            
            .product-note {
                font-size: 10px;
                margin-bottom: 4px;
            }
            
            .product-details-row {
                display: flex;
                align-items: center;
                justify-content: space-between;
                gap: 8px;
            }
            
            .product-price-unit {
                display: flex;
                align-items: baseline;
                gap: 4px;
                flex-wrap: wrap;
            }
            
            .product-price {
                color: #b87333;
                font-weight: bold;
                font-size: 14px;
            }
            
            .product-unit {
                color: #8b6b4f;
                font-size: 12px;
            }
            
            .product-controls {
                display: flex;
                align-items: center;
                gap: 4px;
                flex-shrink: 0;
            }
            
            .product-qty-btn {
                width: 28px;
                height: 28px;
                font-size: 16px;
            }
            
            .product-qty-value {
                font-size: 14px;
                min-width: 28px;
            }
            
            .category-tab {
                padding: 5px 10px;
                font-size: 12px;
            }
            
            .price-info {
                font-size: 11px;
                padding: 6px 10px;
                margin-bottom: 8px;
            }
            
            .cart-icon {
                padding: 6px 12px;
            }

            .cart-count {
                width: 28px;
                height: 28px;
                font-size: 13px;
            }
            
            .search-box input {
                padding: 8px 15px;
                font-size: 13px;
            }

            .modal-content {
                padding: 15px;
                width: 95%;
            }

            .cart-item {
                font-size: 12px;
                padding: 6px;
            }

            .cart-item-btn {
                width: 26px;
                height: 26px;
                font-size: 14px;
            }

            .cart-item-remove {
                font-size: 20px;
            }

            .calc-icon-new {
                width: 32px;
                height: 32px;
            }
            .calc-icon-new span {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="header" id="header">
        <div class="header-top">
            <button class="menu-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
            
            <div class="logo">
                <span>üêÑ</span>
                <h1>–ó–∞–∫—É–ø–∫–∏ –º–æ–ª–æ—á–∫–∏</h1>
            </div>
            
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="üîç –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤..." oninput="searchProducts()">
            </div>
            
            <div class="nav-buttons">
                <button class="nav-btn" onclick="showModal('producer')">–û –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ</button>
                <button class="nav-btn" onclick="showModal('rules')">–ü—Ä–∞–≤–∏–ª–∞</button>
                <button class="nav-btn" onclick="showModal('reviews')">–û—Ç–∑—ã–≤—ã</button>
            </div>
            
            <div class="cart-icon" onclick="toggleMobileCart()">
                <span>üõí</span>
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </div>
    </div>

    <div class="mobile-menu-overlay" id="menuOverlay" onclick="toggleMobileMenu()"></div>
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-item" onclick="showModal('producer'); toggleMobileMenu()">üìã –û –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ</div>
        <div class="mobile-menu-item" onclick="showModal('rules'); toggleMobileMenu()">üìù –ü—Ä–∞–≤–∏–ª–∞ –∑–∞–∫–∞–∑–∞</div>
        <div class="mobile-menu-item" onclick="showModal('reviews'); toggleMobileMenu()">‚≠ê –û—Ç–∑—ã–≤—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</div>
    </div>

    <div class="desktop-container">
        <div class="products-column">
            <div class="price-info">
                <span>‚ÑπÔ∏è –¶–µ–Ω—ã –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–µ. –î–æ—Å—Ç–∞–≤–∫–∞ 30‚ÇΩ/–∫–≥ –≤–∫–ª—é—á–µ–Ω–∞. –û–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Å–ª–µ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è.</span>
            </div>

            <div class="category-tabs">
                <div class="category-tab active" onclick="filterProducts('all')">–í—Å–µ —Ç–æ–≤–∞—Ä—ã</div>
                <div class="category-tab" onclick="filterProducts('maslo')">–ú–∞—Å–ª–∞</div>
                <div class="category-tab" onclick="filterProducts('ghee')">–ì—Ö–∏</div>
                <div class="category-tab" onclick="filterProducts('cheese')">–°—ã—Ä—ã</div>
                <div class="category-tab" onclick="filterProducts('lowfat')">–û–±–µ–∑–∂–∏—Ä–µ–Ω–Ω—ã–µ</div>
                <div class="category-tab" onclick="filterProducts('premium')">–ü—Ä–µ–º–∏—É–º</div>
                <div class="category-tab" onclick="filterProducts('other')">–°–≥—É—â—ë–Ω–∫–∞</div>
            </div>

            <div class="products-list" id="productsList"></div>
        </div>

        <div class="right-column">
            <div class="cart-desktop">
                <h2>üõí –ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞</h2>
                <div class="cart-items" id="desktopCartItems"></div>
                <div class="cart-total" id="desktopCartTotal">
                    –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ: <span>0 ‚ÇΩ</span>
                </div>
                <div class="cart-buttons">
                    <button class="btn btn-primary" onclick="showOrderForm()">–û—Ñ–æ—Ä–º–∏—Ç—å</button>
                    <button class="btn btn-secondary" onclick="clearCart()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>
            </div>

            <div class="calculator-widget">
                <h3>
                    <span class="calc-icon-new">
                        <span>+</span>
                        <span>‚àí</span>
                        <span>√ó</span>
                        <span>√∑</span>
                    </span>
                    –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
                </h3>
                <div class="calc-row">
                    <span>–¶–µ–Ω–∞ –∑–∞ –∫–≥:</span>
                    <input type="number" id="widgetPriceKg" value="" placeholder="0" min="0" oninput="updateWidgetCalc()">
                </div>
                <div class="calc-row">
                    <span>–ù—É–∂–Ω–æ –≥—Ä–∞–º–º:</span>
                    <input type="number" id="widgetGram" value="" placeholder="0" min="0" oninput="updateWidgetCalc()">
                </div>
                <div class="calc-result" id="widgetResult">
                    –°—Ç–æ–∏–º–æ—Å—Ç—å: 0 ‚ÇΩ
                </div>
            </div>
        </div>
    </div>

    <div class="mobile-view">
        <div class="price-info">
            <span>‚ÑπÔ∏è –¶–µ–Ω—ã –æ–∑–Ω–∞–∫–æ–º–∏—Ç–µ–ª—å–Ω—ã–µ. –î–æ—Å—Ç–∞–≤–∫–∞ 30‚ÇΩ/–∫–≥ –≤–∫–ª—é—á–µ–Ω–∞.</span>
        </div>

        <div class="mobile-calc-btn" onclick="toggleMobileCalculator()">
            <span class="calc-icon-new" style="width: 40px; height: 40px; border-color: white;">
                <span style="color: white;">+</span>
                <span style="color: white;">‚àí</span>
                <span style="color: white;">√ó</span>
                <span style="color: white;">√∑</span>
            </span>
            –û—Ç–∫—Ä—ã—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
        </div>
        
        <div class="mobile-calculator" id="mobileCalculator">
            <h3 style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                <span class="calc-icon-new" style="width: 32px; height: 32px;"></span>
                –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
            </h3>
            <div style="margin-bottom: 10px;">
                <label style="display: block; margin-bottom: 5px;">–¶–µ–Ω–∞ –∑–∞ –∫–≥ (‚ÇΩ):</label>
                <input type="number" id="mobilePriceKg" value="" placeholder="0" min="0" style="width: 100%; padding: 10px; border: 2px solid #d4a373; border-radius: 8px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label style="display: block; margin-bottom: 5px;">–ù—É–∂–Ω–æ –≥—Ä–∞–º–º:</label>
                <input type="number" id="mobileGram" value="" placeholder="0" min="0" style="width: 100%; padding: 10px; border: 2px solid #d4a373; border-radius: 8px;">
            </div>
            <div class="calc-result" id="mobileCalcResult">
                –°—Ç–æ–∏–º–æ—Å—Ç—å: 0 ‚ÇΩ
            </div>
        </div>

        <div class="category-tabs">
            <div class="category-tab active" onclick="filterProducts('all')">–í—Å–µ</div>
            <div class="category-tab" onclick="filterProducts('maslo')">–ú–∞—Å–ª–∞</div>
            <div class="category-tab" onclick="filterProducts('ghee')">–ì—Ö–∏</div>
            <div class="category-tab" onclick="filterProducts('cheese')">–°—ã—Ä—ã</div>
            <div class="category-tab" onclick="filterProducts('lowfat')">–û–±–µ–∑–∂–∏—Ä</div>
            <div class="category-tab" onclick="filterProducts('premium')">–ü—Ä–µ–º–∏—É–º</div>
            <div class="category-tab" onclick="filterProducts('other')">–°–≥—É—â—ë–Ω–∫–∞</div>
        </div>

        <div class="products-list" id="mobileProductsList"></div>
    </div>

    <div class="modal" id="reviewsModal">
        <div class="modal-content">
            <button class="close-modal" onclick="hideModal('reviews')">√ó</button>
            <h2 style="color: #6b4f3c; margin-bottom: 20px;">‚≠ê –û—Ç–∑—ã–≤—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π</h2>
            
            <div class="reviews-list" id="reviewsList"></div>

            <div class="review-form">
                <h3 style="color: #6b4f3c; margin-bottom: 15px;">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h3>
                <input type="text" id="reviewName" placeholder="–í–∞—à–µ –∏–º—è">
                <textarea id="reviewText" placeholder="–í–∞—à –æ—Ç–∑—ã–≤"></textarea>
                <button class="btn btn-primary" onclick="addReview()" style="width: 100%;">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
            </div>
        </div>
    </div>

    <div class="modal" id="producerModal">
        <div class="modal-content">
            <button class="close-modal" onclick="hideModal('producer')">√ó</button>
            <h2 style="color: #6b4f3c; margin-bottom: 20px;">üêÑ –û –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ</h2>
            <p style="margin-bottom: 15px;">–ù–∞—à–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç–æ–º —Ä–∞–π–æ–Ω–µ. –ú—ã –∑–∞–±–æ—Ç–∏–º—Å—è –æ –∫–æ—Ä–æ–≤–∞—Ö –∏ —Å–ª–µ–¥—É–µ–º –≤–µ–¥–∏—á–µ—Å–∫–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º.</p>
            <p>‚úÖ –ù–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ –±–µ–∑ –ì–ú–û</p>
            <p>‚úÖ –°–≤–æ–±–æ–¥–Ω—ã–π –≤—ã–ø–∞—Å –Ω–∞ –ª—É–≥–∞—Ö</p>
            <p>‚úÖ –†—É—á–Ω–æ–µ –¥–æ–µ–Ω–∏–µ —Å –ª—é–±–æ–≤—å—é</p>
        </div>
    </div>

    <div class="modal" id="rulesModal">
        <div class="modal-content">
            <button class="close-modal" onclick="hideModal('rules')">√ó</button>
            <h2 style="color: #6b4f3c; margin-bottom: 20px;">üìù –ü—Ä–∞–≤–∏–ª–∞ –∑–∞–∫–∞–∑–∞</h2>
            <p><strong>1.</strong> –í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ—á–∫–µ —É–∫–∞–∑—ã–≤–∞–µ–º, –∫–∞–∫ –ø–æ–¥–ø–∏—Å–∞—Ç—å –ø–∞–∫–µ—Ç (–∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –∏–ª–∏ –¥—É—Ö–æ–≤–Ω–æ–µ –∏–º—è)</p>
            <p><strong>2.</strong> –ü–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ—á–∫–æ–π –ø–∏—à–µ–º –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º —É—Å–ª–æ–≤–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–æ—á–∫–∏ —Å–∞–º–æ–≤—ã–≤–æ–∑–∞ (–∏–∑ —Å–ø–∏—Å–∫–∞)</p>
            <p><strong>3.</strong> –ü–æ—á—Ç–∏ –≤—Å–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –º—ã –∑–∞–∫–∞–∑—ã–≤–∞–µ–º —à—Ç—É–∫–∞–º–∏ –∏–ª–∏ —É–ø–∞–∫–æ–≤–∫–∞–º–∏ (—à—Ç./—É–ø.)</p>
            <p><strong>4.</strong> –ü–∞–Ω–∏—Ä –∏ –ü–∞–ª–∫—É –ø–∏—à–µ–º –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö</p>
            <p><strong>5.</strong> –°—É–ª—É–≥—É–Ω–∏ —ç–ª–∏—Ç–Ω—ã–π –∏ –ú–æ—Ü–∞—Ä–µ–ª–ª–∞ —É–ø–∞–∫–æ–≤–∞–Ω—ã –ø–æ 1 –∫–≥</p>
            <p><strong>6.</strong> –ö–æ—Å–∏—á–∫–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–µ–±–æ–ª—å—à–∏–º–∏ —É–ø–∞–∫–æ–≤–∫–∞–º–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ 250-300 –≥</p>
            <p><strong>7.</strong> –û—Å—Ç–∞–ª—å–Ω—ã–µ —Å—ã—Ä—ã –Ω–∞—Ä–µ–∑–∞—é—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ 0,4-0,7 –∫–≥ –∫—É—Å–∫–∞–º–∏</p>
            <p><strong>8.</strong> –°–≥—É—â—ë–Ω–∫—É —Ä–∞–∑–ª–∏–≤–∞–µ–º –ø–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º (–º–æ–∂–Ω–æ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ª—é–±–æ–π –≤–µ—Å, –∫—Ä–∞—Ç–Ω—ã–π 0,5 –∫–≥, –Ω–æ –ª—É—á—à–µ –≤—Å–µ–≥–æ –ø–∏—Å–∞—Ç—å 1,1 –∫–≥, —á—Ç–æ —Ä–∞–≤–Ω–æ–∑–Ω–∞—á–Ω–æ 1 –ª)</p>
            <p><strong>9.</strong> –í–∞—Ä—ë–Ω–∞—è —Å–≥—É—â—ë–Ω–∫–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –≤–∞–∫—É—É–º–Ω—ã—Ö –ø–∞–∫–µ—Ç–∞—Ö –ø–æ 1 –∫–≥</p>
            <p><strong>10.</strong> –ö—Ä–µ–º-—Å—ã—Ä —Ç–∞–∫–∂–µ –≤ –≤–∞–∫—É—É–º–Ω—ã—Ö —É–ø–∞–∫–æ–≤–∫–∞—Ö –ø–æ 1 –∫–≥</p>
            <p><strong>11.</strong> –ú–∞—Å–ª–æ –ü—Ä–µ–º–∏—É–º –∑–∞–∫–∞–∑—ã–≤–∞–µ–º –∫–æ—Ä–æ–±–∫–∞–º–∏ –ø–æ 5 –∫–≥</p>
            <p><strong>12.</strong> –ú–∞—Å–ª–æ –°–±–æ–π–∫–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤–µ—Å–æ–º 2,2-2,9 –∫–≥ –≤ –≤–∞–∫—É—É–º–Ω—ã—Ö —É–ø–∞–∫–æ–≤–∫–∞—Ö</p>
        </div>
    </div>

    <div class="modal" id="orderForm">
        <div class="modal-content">
            <button class="close-modal" onclick="hideOrderForm()">√ó</button>
            <h2 style="color: #6b4f3c; margin-bottom: 20px;">üìù –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h2>
            
            <div id="orderSummary" style="background: #fff2d9; padding: 15px; border-radius: 12px; margin-bottom: 20px;"></div>

            <form id="orderFormElement" onsubmit="return prepareOrder(event)">
                <input type="hidden" name="_subject" value="–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å —Å–∞–π—Ç–∞ –º–æ–ª–æ—á–∫–∏!">
                <input type="hidden" name="_replyto" value="noreply@example.com">
                
                <input type="hidden" name="order" id="orderTextInput">
                
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">üì¶ –ü–æ–¥–ø–∏—Å—å –Ω–∞ –ø–∞–∫–µ—Ç–µ *</label>
                    <input type="text" name="package" id="packageName" required style="width: 100%; padding: 12px; border: 2px solid #d4a373; border-radius: 10px;">
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">üìç –¢–æ—á–∫–∞ —Å–∞–º–æ–≤—ã–≤–æ–∑–∞ *</label>
                    <select name="pickup" id="pickupPoint" required style="width: 100%; padding: 12px; border: 2px solid #d4a373; border-radius: 10px;">
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–æ—á–∫—É</option>
                        <option value="–ê–≤—Ç–æ–≤–æ">–ê–≤—Ç–æ–≤–æ</option>
                        <option value="–ë—É—Ö–∞—Ä–µ—Å—Ç—Å–∫–∞—è">–ë—É—Ö–∞—Ä–µ—Å—Ç—Å–∫–∞—è</option>
                        <option value="–ú–∞—è–∫–æ–≤—Å–∫–∞">–ú–∞—è–∫–æ–≤—Å–∫–∞—è</option>
                        <option value="–ë–∞–ª—Ç–∏–π—Å–∫–∞—è">–ë–∞–ª—Ç–∏–π—Å–∫–∞—è</option>
                        <option value="–ü–µ—Ç—Ä–æ–≥—Ä–∞–¥—Å–∫–∞—è">–ü–µ—Ç—Ä–æ–≥—Ä–∞–¥—Å–∫–∞—è</option>
                    </select>
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">üë§ –í–∞—à–µ –∏–º—è *</label>
                    <input type="text" name="name" id="name" required style="width: 100%; padding: 12px; border: 2px solid #d4a373; border-radius: 10px;">
                </div>

                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px; font-weight: bold;">üìû –¢–µ–ª–µ—Ñ–æ–Ω *</label>
                    <input type="tel" name="phone" id="phone" required style="width: 100%; padding: 12px; border: 2px solid #d4a373; border-radius: 10px;">
                </div>

                <div style="display: flex; gap: 10px;">
                    <button type="submit" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑</button>
                    <button type="button" class="btn btn-secondary" onclick="hideOrderForm()">–û—Ç–º–µ–Ω–∞</button>
                </div>
            </form>
        </div>
    </div>

    <div class="modal" id="mobileCartModal">
        <div class="modal-content">
            <button class="close-modal" onclick="hideMobileCart()">√ó</button>
            <h2 style="color: #6b4f3c; margin-bottom: 20px;">üõí –ú–æ—è –∫–æ—Ä–∑–∏–Ω–∞</h2>
            <div class="cart-items" id="mobileCartItems"></div>
            <div class="cart-total" id="mobileCartTotal">
                –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ: <span>0 ‚ÇΩ</span>
            </div>
            <div class="cart-buttons">
                <button class="btn btn-primary" onclick="showOrderForm(); hideMobileCart();">–û—Ñ–æ—Ä–º–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="clearCart(); hideMobileCart();">–û—á–∏—Å—Ç–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <div class="notification" id="notification"></div>

    <script>
        const products = [
            { id: 1, name: "ü•• –ú–∞—Å–ª–æ –∫–æ–∫–æ—Å–æ–≤–æ–µ –Ω–µ—Ä–∞—Ñ–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ", price: 3400, unit: "5 –ª", category: "maslo", orderUnit: "—à—Ç", orderNote: "—Ñ–ª–∞–∫–æ–Ω 5–ª", step: 1 },
            { id: 2, name: "üßà –ú–∞—Å–ª–æ –ü—Ä–µ–º–∏—É–º", price: 4600, unit: "5 –∫–≥", category: "maslo", orderUnit: "–∫–æ—Ä", orderNote: "–∫–æ—Ä–æ–±–∫–∞ 5 –∫–≥", step: 1 },
            { id: 3, name: "üßà –ú–∞—Å–ª–æ –°–±–æ–π–∫–∞", price: 1300, unit: "–∫–≥", category: "maslo", orderUnit: "—É–ø", orderNote: "—É–ø–∞–∫–æ–≤–∫–∞ 2.2-2.9 –∫–≥", step: 1 },
            { id: 4, name: "üçØ –ì—Ö–∏ –∏–∑ –°–±–æ–π–∫–∏", price: 1950, unit: "–ª", category: "ghee", orderUnit: "—à—Ç", orderNote: "–±—É—Ç—ã–ª–∫–∞ 1–ª", step: 1 },
            { id: 5, name: "üòã –ì—Ö–∏ –π–æ–≥—É—Ä—Ç–æ–≤–æ–µ", price: 2550, unit: "–ª", category: "ghee", orderUnit: "—à—Ç", orderNote: "–±—É—Ç—ã–ª–∫–∞ 1–ª", step: 1 },
            { id: 6, name: "‚òòÔ∏è –ê–ª—å–ø–∏–π—Å–∫–∏–π", price: 1570, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 7, name: "‚òòÔ∏è –ê–º—Å—Ç–µ—Ä–¥–∞–º", price: 1570, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 8, name: "‚òòÔ∏è –ê–º—Å—Ç–µ—Ä–¥–∞–º –∑—Ä–µ–ª—ã–π", price: 1790, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 9, name: "‚òòÔ∏è –ë—É—Ä–≥–æ–º–∏—Å—Ç—Ä", price: 1570, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 10, name: "‚òòÔ∏è –ì–∞—É–¥–∞", price: 1130, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 11, name: "‚òòÔ∏è –ì–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π", price: 1130, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 12, name: "‚òòÔ∏è –ì—Ä–∏–Ω –ø–µ—Å—Ç–æ", price: 1170, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 13, name: "‚òòÔ∏è –ì—Ä–æ–π—Ü–µ—Ä", price: 1350, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 14, name: "‚òòÔ∏è –î—ç–∑–∏—Ä", price: 1270, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 15, name: "‚òòÔ∏è –ö–æ–ª–±–∞—Å–Ω—ã–π", price: 1060, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 16, name: "‚òòÔ∏è –ö–æ—Å–∏—á–∫–∞ –±–µ–ª–∞—è", price: 730, unit: "250-300–≥", category: "cheese", orderUnit: "—É–ø", orderNote: "—É–ø–∞–∫–æ–≤–∫–∞ 250-300 –≥", step: 0.3 },
            { id: 17, name: "‚òòÔ∏è –ö–æ—Å–∏—á–∫–∞ –∫–æ–ø—á—ë–Ω–∞—è", price: 730, unit: "250-300–≥", category: "cheese", orderUnit: "—É–ø", orderNote: "—É–ø–∞–∫–æ–≤–∫–∞ 250-300 –≥", step: 0.3 },
            { id: 18, name: "‚òòÔ∏è –ö—É–±–∞–Ω—Å–∫–∏–π", price: 1130, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 19, name: "‚òòÔ∏è –ú–∞–∞—Å–¥–∞–º", price: 1180, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 20, name: "‚òòÔ∏è –ú–∞–∞—Å–¥–∞–º –∑—Ä–µ–ª—ã–π", price: 1610, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 21, name: "‚òòÔ∏è –ú–æ–Ω –ë–∞—Ä–æ–Ω", price: 1280, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 22, name: "‚òòÔ∏è –ú–æ—Ü–∞—Ä–µ–ª–ª–∞ –±–∞—Ç–æ–Ω –≤/—Å", price: 1020, unit: "—É–ø. 1 –∫–≥", category: "cheese", orderUnit: "—É–ø", orderNote: "—É–ø–∞–∫–æ–≤–∫–∞ 1 –∫–≥", step: 1 },
            { id: 23, name: "‚òòÔ∏è –ú–æ—Ü–∞—Ä–µ–ª–ª–∞ —à–∞—Ä–∏–∫–∏ –≤/—Å", price: 1180, unit: "—É–ø. 1 –∫–≥", category: "cheese", orderUnit: "—É–ø", orderNote: "—É–ø–∞–∫–æ–≤–∫–∞ 1 –∫–≥", step: 1 },
            { id: 24, name: "‚òòÔ∏è –ü–∞–∂–∏—Ç–Ω–∏–∫", price: 1220, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 25, name: "‚òòÔ∏è –ü–∞–ª–∫–∞", price: 710, unit: "–∫–≥", category: "cheese", orderUnit: "–∫–≥", orderNote: "–≤–µ—Å –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö", step: 1 },
            { id: 26, name: "‚òòÔ∏è –ü–∞–Ω–∏—Ä", price: 690, unit: "–∫–≥", category: "cheese", orderUnit: "–∫–≥", orderNote: "–≤–µ—Å –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö", step: 1 },
            { id: 27, name: "‚òòÔ∏è –ü–∞–Ω–∏—Ä –∫–æ–ø—á—ë–Ω—ã–π", price: 700, unit: "–∫–≥", category: "cheese", orderUnit: "–∫–≥", orderNote: "–≤–µ—Å –≤ –∫–∏–ª–æ–≥—Ä–∞–º–º–∞—Ö", step: 1 },
            { id: 28, name: "‚òòÔ∏è –ü–∞—Ä–º–µ–∑–∞–Ω", price: 1850, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 29, name: "‚òòÔ∏è –ü–∞—Ä–º–µ–∑–∞–Ω 5 –ª–µ—Ç", price: 2280, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 30, name: "‚òòÔ∏è –ü–∞—Ä–º–µ–∑–∞–Ω —Å –∫—Ä–∏—Å—Ç. –∫–∞–ª—å—Ü–∏—è", price: 2600, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 31, name: "‚òòÔ∏è –ü–∞—Ä–º–µ–∑–∞–Ω –ì—Ä–∞–Ω–∞", price: 2950, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 32, name: "‚òòÔ∏è –†–∞–∫–ª–µ—Ç", price: 1850, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 33, name: "‚òòÔ∏è –†–æ—Å—Å–∏–π—Å–∫–∏–π", price: 1130, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 34, name: "‚òòÔ∏è –†—ç–¥ –ø–µ—Å—Ç–æ", price: 1170, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 35, name: "‚òòÔ∏è –°—Ç–∞–Ω–∏—Ü–∞", price: 1130, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 36, name: "‚òòÔ∏è –°—Ç–∞–Ω–∏—Ü–∞ –∂–µ–ª—Ç.", price: 1160, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 37, name: "‚òòÔ∏è –° –ª–∏—Å–∏—á–∫–∞–º–∏", price: 1240, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 38, name: "‚òòÔ∏è –° —Ç—Ä—é—Ñ–µ–ª–µ–º", price: 1280, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 39, name: "‚òòÔ∏è –°—É–ª—É–≥—É–Ω–∏ –∫—Ä–µ—Å—Ç—å—è–Ω—Å–∫–∏–π", price: 730, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 40, name: "‚òòÔ∏è –°—É–ª—É–≥—É–Ω–∏ –∫–æ–ø—á—ë–Ω—ã–π", price: 790, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 41, name: "‚òòÔ∏è –°—É–ª—É–≥—É–Ω–∏ —ç–ª–∏—Ç–Ω—ã–π", price: 900, unit: "—É–ø. 1 –∫–≥", category: "cheese", orderUnit: "—É–ø", orderNote: "—É–ø–∞–∫–æ–≤–∫–∞ 1 –∫–≥", step: 1 },
            { id: 42, name: "‚òòÔ∏è –¢–∏–ª—å–∑–∏—Ç–µ—Ä", price: 1130, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 43, name: "‚òòÔ∏è –¢–∏–ª—å–∑–∏—Ç–µ—Ä –∞—Ä–æ–º–∞—Ç –æ—Ä–µ—Ö–∞", price: 1170, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 44, name: "‚òòÔ∏è –¢–æ–º–∞—Ç –∏ –±–∞–∑–∏–ª–∏–∫", price: 1170, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 45, name: "‚òòÔ∏è –§—Ä–∏–±—É—Ä—à–µ–Ω", price: 1350, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 46, name: "‚òòÔ∏è –ß–µ–¥–¥–µ—Ä", price: 1240, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 47, name: "‚òòÔ∏è –ß–µ–¥–¥–µ—Ä –≤—ã–¥–µ—Ä–∂–∞–Ω–Ω—ã–π", price: 1790, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 48, name: "‚òòÔ∏è –ß—ë—Ä–Ω—ã–π –ü—Ä–∏–Ω—Ü", price: 1230, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 49, name: "‚òòÔ∏è –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π", price: 1570, unit: "–∫–≥", category: "cheese", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫ 0.4-0.7 –∫–≥", step: 0.55 },
            { id: 50, name: "üßÄ –ì–æ–ª–ª–∞–Ω–¥—Å–∫–∏–π (–æ)", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 51, name: "üßÄ –ì–∞—É–¥–∞ (–æ)", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 52, name: "üßÄ –î–æ–º–∞—à–Ω–∏–π", price: 900, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 53, name: "üßÄ –ó–æ–ª–æ—Ç–æ–π –ø–∞–∂–∏—Ç–Ω–∏–∫", price: 1130, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 54, name: "üßÄ –ö–∞–∑–∞—á–∏–π", price: 810, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 55, name: "üßÄ –ö—É–±–∞–Ω—Å–∫–∏–π –ñ–µ–º—á—É–≥", price: 810, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 56, name: "üßÄ –ö—É–±–∞–Ω—Å–∫–æ–µ –ó–æ–ª–æ—Ç–æ", price: 810, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 57, name: "üßÄ –ú–æ–Ω–∞—Å—Ç—ã—Ä—Å–∫–∏–π", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 58, name: "üßÄ –†–æ—Å—Å–∏–π—Å–∫–∏–π (–æ)", price: 810, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 59, name: "üßÄ –°–º–µ—Ç–∞–Ω–∫–æ–≤—ã–π", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 60, name: "üßÄ –°–ª–∏–≤–æ—á–Ω—ã–π", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 61, name: "üßÄ –¢–∏–ª—å–∑–∏—Ç–µ—Ä (–æ)", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 62, name: "üßÄ –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 63, name: "üßÄ –ß—ë—Ä–Ω—ã–π –ö–æ—Ä–æ–ª—å", price: 920, unit: "–∫–≥", category: "lowfat", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 64, name: "üßÄ –ê–ª—å–ø–µ–Ω–¥–æ—Ä—Ñ –ø/—Ç", price: 3770, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 65, name: "üßÄ –ë–ª—ë –¥–µ –í–∏–ª–∞–∂ (–≥–æ–ª—É–±. –ø–ª–µ—Å.)", price: 4870, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 66, name: "üßÄ –ë–æ–Ω–¥–µ–∑–µ–∫–µ–π–∑–µ –ø/—Ç", price: 3770, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 67, name: "üßÄ –ë—Ä–∏ –ú–∞—Ä–≥–æ (–±–µ–ª–∞—è –ø–ª–µ—Å.)", price: 4430, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 68, name: "üßÄ –ì–æ—Ä–≥–æ–Ω–∑–æ–ª–∞", price: 2340, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 69, name: "üßÄ –î–æ—Ä –ë–ª—é (–≥–æ–ª—É–±–∞—è –ø–ª–µ—Å–µ–Ω—å)", price: 2560, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 70, name: "üßÄ –ö—Ä–µ–º–æ–∑–æ –ü—Ä–µ–º—å–µ—Ä", price: 3550, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 71, name: "üßÄ –ú–∏–≥–ª–∏–æ—Ä–µ", price: 1790, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 72, name: "üßÄ –ú–æ–Ω–∞–º–æ–Ω—Ç", price: 1790, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 73, name: "üßÄ –ú–æ–Ω—Ç–∞–∑–∏–æ", price: 2670, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 74, name: "üßÄ –ü—Ä–∏–Ω—Ü –¥. –û–≥–æ–∑ (–±–µ–ª. –ø–ª–µ—Å.)", price: 4760, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 75, name: "üßÄ –¢—É–ª—å–µ—Ä", price: 1790, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 76, name: "üßÄ –≠–º–º–µ–Ω—Ç–∞–ª–ª–µ—Ä", price: 4320, unit: "–∫–≥", category: "premium", orderUnit: "—à—Ç", orderNote: "–∫—É—Å–æ–∫", step: 1 },
            { id: 77, name: "üçØ –ö—Ä–µ–º-—Å—ã—Ä", price: 1020, unit: "—É–ø. 1 –∫–≥", category: "other", orderUnit: "—É–ø", orderNote: "–≤–∞–∫—É—É–º–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞ 1 –∫–≥", step: 1 },
            { id: 78, name: "ü•õ –°–≥—É—â—ë–Ω–∫–∞", price: 770, unit: "–∫–≥", category: "other", orderUnit: "–∫–≥", orderNote: "–∫—Ä–∞—Ç–Ω–æ 0.5 –∫–≥, –ª—É—á—à–µ 1.1 –∫–≥", step: 0.5 },
            { id: 79, name: "ü•õ –°–≥—É—â—ë–Ω–∫–∞ –≤–∞—Ä—ë–Ω–∞—è", price: 800, unit: "—É–ø. 1 –∫–≥", category: "other", orderUnit: "—É–ø", orderNote: "–≤–∞–∫—É—É–º–Ω—ã–π –ø–∞–∫–µ—Ç 1 –∫–≥", step: 1 }
        ];

        let cart = [];
        let currentCategory = 'all';
        let searchQuery = '';
        let reviews = JSON.parse(localStorage.getItem('reviews') || '[]');

        function formatQuantity(value) {
            const rounded = Math.round(value * 100) / 100;
            if (Number.isInteger(rounded)) {
                return rounded.toString();
            }
            return rounded.toFixed(2);
        }

        window.addEventListener('scroll', function() {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('compact');
            } else {
                header.classList.remove('compact');
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            loadCart();
            displayProducts();
            updateAllCarts();
            displayReviews();
            
            document.getElementById('widgetPriceKg').addEventListener('input', updateWidgetCalc);
            document.getElementById('widgetGram').addEventListener('input', updateWidgetCalc);
            document.getElementById('mobilePriceKg').addEventListener('input', updateMobileCalc);
            document.getElementById('mobileGram').addEventListener('input', updateMobileCalc);
            updateWidgetCalc();
            updateMobileCalc();
        });

        function displayProducts() {
            const filtered = products.filter(p => {
                const matchesCategory = currentCategory === 'all' || p.category === currentCategory;
                const matchesSearch = p.name.toLowerCase().includes(searchQuery.toLowerCase());
                return matchesCategory && matchesSearch;
            });
            
            const desktopHtml = filtered.map(p => {
                const cartItem = cart.find(item => item.id === p.id);
                const qty = cartItem ? formatQuantity(cartItem.count * p.step) : '0';
                const inCartClass = cartItem ? 'in-cart' : '';
                
                return `
                    <div class="product-item ${inCartClass}" data-id="${p.id}">
                        <div class="product-info">
                            <div class="product-name">${p.name}</div>
                            <div class="product-note">${p.orderNote}</div>
                        </div>
                        <span class="product-price">${p.price} ‚ÇΩ</span>
                        <span class="product-unit">${p.unit}</span>
                        <div class="product-controls">
                            <button class="product-qty-btn" onclick="updateProductQuantity(${p.id}, -${p.step})">‚àí</button>
                            <span class="product-qty-value" id="qty-${p.id}">${qty}</span>
                            <button class="product-qty-btn" onclick="updateProductQuantity(${p.id}, ${p.step})">+</button>
                        </div>
                    </div>
                `;
            }).join('');
            
            const mobileHtml = filtered.map(p => {
                const cartItem = cart.find(item => item.id === p.id);
                const qty = cartItem ? formatQuantity(cartItem.count * p.step) : '0';
                const inCartClass = cartItem ? 'in-cart' : '';
                
                return `
                    <div class="product-item ${inCartClass}" data-id="${p.id}">
                        <div class="product-name">${p.name}</div>
                        <div class="product-note">${p.orderNote}</div>
                        <div class="product-details-row">
                            <div class="product-price-unit">
                                <span class="product-price">${p.price} ‚ÇΩ</span>
                                <span class="product-unit">${p.unit}</span>
                            </div>
                            <div class="product-controls">
                                <button class="product-qty-btn" onclick="updateProductQuantity(${p.id}, -${p.step})">‚àí</button>
                                <span class="product-qty-value" id="qty-${p.id}">${qty}</span>
                                <button class="product-qty-btn" onclick="updateProductQuantity(${p.id}, ${p.step})">+</button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            if (document.getElementById('productsList')) {
                document.getElementById('productsList').innerHTML = desktopHtml;
            }
            if (document.getElementById('mobileProductsList')) {
                document.getElementById('mobileProductsList').innerHTML = mobileHtml;
            }
        }

        function updateProductQuantity(productId, delta) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                const deltaCount = delta > 0 ? 1 : -1;
                const newCount = existingItem.count + deltaCount;
                if (newCount <= 0) {
                    cart = cart.filter(item => item.id !== productId);
                } else {
                    existingItem.count = newCount;
                }
            } else if (delta > 0) {
                cart.push({ ...product, count: 1 });
            }
            
            saveCart();
            displayProducts();
            updateAllCarts();
        }

        function searchProducts() {
            searchQuery = document.getElementById('searchInput').value;
            displayProducts();
        }

        function filterProducts(category) {
            currentCategory = category;
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            displayProducts();
        }

        function updateAllCarts() {
            const totalUnits = cart.reduce((sum, item) => sum + item.count, 0);
            document.getElementById('cartCount').textContent = totalUnits > 99 ? '99+' : totalUnits;
            
            const createCartHtml = () => {
                if (cart.length === 0) {
                    return {
                        html: '<p style="color: #b87333; text-align: center; padding: 10px;">üõí –ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</p>',
                        total: 0
                    };
                }
                
                let totalSum = 0;
                const itemsHtml = cart.map(item => {
                    const quantity = item.count * item.step;
                    const itemTotal = item.price * quantity;
                    totalSum += itemTotal;
                    return `
                        <div class="cart-item">
                            <div class="cart-item-info">
                                <div class="cart-item-name">${item.name}</div>
                                <div class="cart-item-note">${item.orderNote}</div>
                            </div>
                            <div class="cart-item-controls">
                                <button class="cart-item-btn" onclick="updateProductQuantity(${item.id}, -${item.step})">‚àí</button>
                                <span class="cart-item-quantity">${formatQuantity(quantity)}</span>
                                <button class="cart-item-btn" onclick="updateProductQuantity(${item.id}, ${item.step})">+</button>
                                <button class="cart-item-remove" onclick="removeFromCart(${item.id})">√ó</button>
                            </div>
                        </div>
                    `;
                }).join('');
                
                return { html: itemsHtml, total: totalSum };
            };
            
            const { html, total } = createCartHtml();
            
            const desktopCart = document.getElementById('desktopCartItems');
            const desktopTotal = document.getElementById('desktopCartTotal')?.querySelector('span');
            if (desktopCart) desktopCart.innerHTML = html;
            if (desktopTotal) desktopTotal.textContent = `${total.toFixed(2)} ‚ÇΩ`;
            
            const mobileCart = document.getElementById('mobileCartItems');
            const mobileTotal = document.getElementById('mobileCartTotal')?.querySelector('span');
            if (mobileCart && document.getElementById('mobileCartModal').classList.contains('active')) {
                mobileCart.innerHTML = html;
            }
            if (mobileTotal) mobileTotal.textContent = `${total.toFixed(2)} ‚ÇΩ`;
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            saveCart();
            displayProducts();
            updateAllCarts();
        }

        function saveCart() {
            localStorage.setItem('cart', JSON.stringify(cart));
        }

        function loadCart() {
            const saved = localStorage.getItem('cart');
            if (saved) {
                try {
                    const parsed = JSON.parse(saved);
                    cart = parsed.map(item => {
                        if (item.count !== undefined) {
                            return item;
                        } else {
                            const product = products.find(p => p.id === item.id);
                            const step = product ? product.step : (item.step || 1);
                            const count = Math.round(item.quantity / step);
                            return { ...item, count: count || 1 };
                        }
                    }).filter(item => item.count > 0);
                } catch (e) {
                    cart = [];
                }
            }
        }

        function clearCart() {
            if (cart.length === 0) return;
            if (confirm('–û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É?')) {
                cart = [];
                saveCart();
                displayProducts();
                updateAllCarts();
                showNotification('–ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–µ–Ω–∞');
            }
        }

        function updateWidgetCalc() {
            const price = parseFloat(document.getElementById('widgetPriceKg').value) || 0;
            const gram = parseFloat(document.getElementById('widgetGram').value) || 0;
            const result = (gram / 1000) * price;
            document.getElementById('widgetResult').textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${result.toFixed(2)} ‚ÇΩ`;
        }

        function updateMobileCalc() {
            const price = parseFloat(document.getElementById('mobilePriceKg').value) || 0;
            const gram = parseFloat(document.getElementById('mobileGram').value) || 0;
            const result = (gram / 1000) * price;
            document.getElementById('mobileCalcResult').textContent = `–°—Ç–æ–∏–º–æ—Å—Ç—å: ${result.toFixed(2)} ‚ÇΩ`;
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('menuOverlay');
            menu.classList.toggle('active');
            overlay.classList.toggle('active');
        }

        function toggleMobileCalculator() {
            const calc = document.getElementById('mobileCalculator');
            calc.classList.toggle('active');
        }

        function toggleMobileCart() {
            updateAllCarts();
            document.getElementById('mobileCartModal').classList.add('active');
            updateAllCarts();
        }

        function hideMobileCart() {
            document.getElementById('mobileCartModal').classList.remove('active');
        }

        function showModal(type) {
            document.getElementById(`${type}Modal`).classList.add('active');
            if (type === 'reviews') {
                displayReviews();
            }
        }

        function hideModal(type) {
            document.getElementById(`${type}Modal`).classList.remove('active');
        }

        function displayReviews() {
            const list = document.getElementById('reviewsList');
            if (reviews.length === 0) {
                list.innerHTML = '<p style="color: #b87333; text-align: center;">–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤. –ë—É–¥—å—Ç–µ –ø–µ—Ä–≤—ã–º!</p>';
            } else {
                list.innerHTML = reviews.map(r => `
                    <div class="review-item">
                        <span class="review-author">${r.name}</span>
                        <span class="review-date">${r.date}</span>
                        <div class="review-text">${r.text}</div>
                    </div>
                `).join('');
            }
        }

        function addReview() {
            const name = document.getElementById('reviewName').value.trim();
            const text = document.getElementById('reviewText').value.trim();
            
            if (!name || !text) {
                showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∏–º—è –∏ –æ—Ç–∑—ã–≤');
                return;
            }
            
            const review = {
                name: name,
                text: text,
                date: new Date().toLocaleString('ru-RU', { day: 'numeric', month: 'long', year: 'numeric' })
            };
            
            reviews.unshift(review);
            localStorage.setItem('reviews', JSON.stringify(reviews));
            
            document.getElementById('reviewName').value = '';
            document.getElementById('reviewText').value = '';
            
            displayReviews();
            showNotification('–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–∑—ã–≤! üôè');
        }

        function showOrderForm() {
            if (cart.length === 0) {
                showNotification('–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É');
                return;
            }

            const summary = document.getElementById('orderSummary');
            summary.innerHTML = '<h3 style="margin-bottom: 10px;">–í–∞—à –∑–∞–∫–∞–∑:</h3>' + 
                cart.map(item => {
                    const quantity = item.count * item.step;
                    let itemText = `${item.name} ‚Äî ${formatQuantity(quantity)} `;
                    if (item.orderUnit === '–∫–≥') {
                        itemText += '–∫–≥';
                    } else if (item.name.includes('–°–≥—É—â—ë–Ω–∫–∞') && !item.name.includes('–≤–∞—Ä—ë–Ω–∞—è')) {
                        itemText += `–∫–≥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ${(quantity * 1.1).toFixed(2)} –∫–≥ = ${quantity} –ª)`;
                    } else {
                        itemText += item.orderUnit;
                    }
                    return `<p>‚Ä¢ ${itemText}</p>`;
                }).join('');
            
            document.getElementById('orderForm').classList.add('active');
        }

        function hideOrderForm() {
            document.getElementById('orderForm').classList.remove('active');
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram —á–µ—Ä–µ–∑ –º–æ–π —Å–µ—Ä–≤–µ—Ä (–ë–ï–ó –¢–û–ö–ï–ù–ê –í –ö–û–î–ï!)
        async function sendToTelegram(orderText) {
            try {
                await fetch('https://moloko-bot-server.vercel.app/api/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        chatId: '353422630',
                        text: `üîî –ù–æ–≤—ã–π –∑–∞–∫–∞–∑!\n\n${orderText}`
                    })
                });
            } catch (e) {
                console.log('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram:', e);
            }
        }

        // –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–∫–∞–∑–∞
        function prepareOrder(event) {
            event.preventDefault();
            
            if (cart.length === 0) {
                showNotification('–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É');
                return false;
            }
            
            const packageName = document.getElementById('packageName').value;
            const pickupPoint = document.getElementById('pickupPoint').value;
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            
            let orderText = `–ò–º—è: ${name}\n–¢–µ–ª–µ—Ñ–æ–Ω: ${phone}\n\n–ü–æ–¥–ø–∏—Å—å –Ω–∞ –ø–∞–∫–µ—Ç–µ: ${packageName}\n\n–ó–ê–ö–ê–ó:\n`;
            
            cart.forEach(item => {
                const quantity = item.count * item.step;
                if (item.name.includes('–ü–∞–Ω–∏—Ä') || item.name.includes('–ü–∞–ª–∫–∞')) {
                    orderText += `‚Ä¢ ${item.name} ‚Äî ${formatQuantity(quantity)} –∫–≥\n`;
                } else if (item.name.includes('–°–≥—É—â—ë–Ω–∫–∞') && !item.name.includes('–≤–∞—Ä—ë–Ω–∞—è')) {
                    orderText += `‚Ä¢ ${item.name} ‚Äî ${(quantity * 1.1).toFixed(2)} –∫–≥ (‚âà${quantity} –ª)\n`;
                } else if (item.name.includes('–ú–∞—Å–ª–æ –ü—Ä–µ–º–∏—É–º')) {
                    orderText += `‚Ä¢ ${item.name} ‚Äî ${item.count} –∫–æ—Ä–æ–±–æ–∫ –ø–æ 5 –∫–≥\n`;
                } else if (item.name.includes('–ú–∞—Å–ª–æ –°–±–æ–π–∫–∞')) {
                    orderText += `‚Ä¢ ${item.name} ‚Äî ${item.count} —É–ø–∞–∫–æ–≤–æ–∫ (2.2-2.9 –∫–≥)\n`;
                } else {
                    orderText += `‚Ä¢ ${item.name} ‚Äî ${item.count} ${item.orderUnit}\n`;
                }
            });
            
            orderText += `\n–¢–æ—á–∫–∞ —Å–∞–º–æ–≤—ã–≤–æ–∑–∞: ${pickupPoint}`;
            
            document.getElementById('orderTextInput').value = orderText;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            const orders = JSON.parse(localStorage.getItem('orders') || '[]');
            orders.push({
                id: Date.now(),
                date: new Date().toLocaleString(),
                orderText,
                items: [...cart]
            });
            localStorage.setItem('orders', JSON.stringify(orders));
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤ Telegram —á–µ—Ä–µ–∑ –º–æ–π —Å–µ—Ä–≤–µ—Ä
            sendToTelegram(orderText);
            
            // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ Formspree
            const form = document.getElementById('orderFormElement');
            form.action = 'https://formspree.io/f/mzdajzjj';
            form.method = 'POST';
            form.submit();
            
            showNotification('–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω! –•–∞—Ä–µ –ö—Ä–∏—à–Ω–∞! üôè');
            
            cart = [];
            saveCart();
            displayProducts();
            updateAllCarts();
            hideOrderForm();
            
            return false;
        }

        function showNotification(message) {
            const n = document.getElementById('notification');
            n.textContent = message;
            n.classList.add('show');
            setTimeout(() => n.classList.remove('show'), 3000);
        }

        window.onclick = (event) => {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }
    </script>
</body>
</html>